!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e["vc-mask"]={})}(this,function(e){"use strict";var t={name:"vc-mask",props:{className:{type:String,default:""},zIndex:{type:Number,default:1e3}},data:function(){return{show:!1}},methods:{touchmove:function(e){e.preventDefault(),e.stopPropagation()},afterLeave:function(e){e.parentNode.removeChild(e),this.__afterLeave&&this.__afterLeave(),this.$destroy()}}},n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"vc-mask"},on:{"after-leave":e.afterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"vc-mask",class:e.className,style:{zIndex:e.zIndex},on:{touchmove:e.touchmove}})])};n._withStripped=!0;var o,i,s,a,r,c=(o=void 0!==n?{render:n,staticRenderFns:[]}:{},i=void 0===t?{}:t,s=void 0,a=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(r=("function"==typeof i?i.options:i)||{}).__file="/Users/wangjie/repositories/vc-mask/src/mask.vue",r.render||(r.render=o.render,r.staticRenderFns=o.staticRenderFns,r._compiled=!0,a&&(r.functional=!0)),r._scopeId=s,r),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=void 0,f=void 0,v=void 0,p=!1,m=!1,_={className:"",zIndex:1e3,enabledClickClose:!0,enabledEscClose:!1},h=[],y={};function b(e){var t=h[h.length-1];if(t){var n=y[t];n&&n.close&&n.instance&&(e&&n.option.enabledClickClose||n.option.enabledEscClose)&&n.close.apply(n.instance)}}function w(e){27===e.keyCode&&b(0)}function k(e){var t=this.$mount().$el;!m&&e.enabledClickClose&&(t.addEventListener("click",b,!1),m=!0),v.appendChild(t)}function g(t){var n=this;["className","zIndex"].forEach(function(e){n[e]=t[e]})}function C(e){this.__initEl(e),this.__setData(e),this.show=!0}function x(){var e=h[h.length-1];e&&this.__setData(y[e].option),h.length||(this.show=!1)}function E(){m&&(f.$el.removeEventListener("click",b,!1),m=!1),p&&(window.removeEventListener("keydown",w,!1),p=!1),f=null}function O(){}var j={install:function(e,t){var n;n=e.extend(c),Object.assign(n.prototype,{__open:C,__initEl:k,__setData:g,close:x,__afterLeave:E}),(u=n).useOption=t,v=document.body||document.querySelector("body")||document.getElementsByTagName("body")[0]}};e.mapMask=function(s){var a=Math.random().toString(36).slice(2);return y[a]={},(s=s||{}).enabledEscClose&&(p||(window.addEventListener("keydown",w,!1),p=!0)),{mapMaskOpen:function(e){var t=void 0,n=void 0,o=void 0,i=void 0;return e=e||O,function(){!1!==(n=e.apply(this,arguments))&&(n&&"object"===(void 0===n?"undefined":l(n))&&(i=n),o=d({},_,u.useOption,s,i),y[a].option=o,y[a].instance=this,~(t=h.indexOf(a))?1<h.length&&h.push(h.splice(t,1)[0]):h.push(a),(f=f||new u).__open(o))}},mapMaskClose:function(e){var t=void 0,n=void 0,o=void 0;e=e||O;var i=function(){return!1!==(n=e.apply(this,arguments))&&h.length&&(t=h[h.length-1],~(o=h.indexOf(a))&&h.splice(o,1),t===a&&f.close()),n};return y[a].close=i}}},e.default=j,Object.defineProperty(e,"__esModule",{value:!0})});
